---
import type { ImageMetadata } from 'astro';
import { Image as AstroImage } from 'astro:assets';

interface Props {
   src: string;
   alt: string;
   width: number;
   height: number;
}

const { src, alt, width, height } = Astro.props;

const trueSrc = `/src/assets/${src}`;

const images = import.meta.glob<{ default: ImageMetadata }>('/src/assets/*.{jpeg,jpg,png,gif}');
console.log(images)
if (!images[trueSrc]) throw new Error(`"${trueSrc}" does not exist in glob: "src/assets/*.{jpeg,jpg,png,gif}"`);
---

<AstroImage src={images[trueSrc]()} alt={alt} width={width} height={height} />